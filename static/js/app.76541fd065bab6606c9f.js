webpackJsonp([1,2],{136:function(t,e,n){"use strict";var s=n(146),a=n.n(s),i=n(117),o=n.n(i),r=n(55);n.n(r);e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new a.a(function(n,s){o.a.get("/api/"+t,{params:e}).then(function(t){n(t.data)}).catch(function(t){r.Notification.error("fetch error"),s(t)})})}},137:function(t,e,n){"use strict";var s,a,i,o=n(149),r=n.n(o),c=n(150),u=n.n(c),l=n(62),v=n(32),p=(s={},r()(s,l.a,function(t,e){t.movies[e.type].subjects=[].concat(u()(t.movies[e.type].subjects),u()(e.subjects)),t.movies[e.type].total=t.movies[e.type].subjects.length}),r()(s,l.b,function(t,e){t.movies[e.type].subjects=[].concat(u()(t.movies[e.type].subjects),u()(e.subjects)),t.movies[e.type].total=t.movies[e.type].subjects.length}),r()(s,l.c,function(t,e){t.movies[e.type].subjects=[],t.movies[e.type].total=0}),s),f=(a={},r()(a,l.a,function(t,e){return v.a(e.type,{start:e.start||0}).then(function(n){return t.commit(l.a,{type:e.type,subjects:n.subjects,total:n.total}),n})}),r()(a,l.b,function(t,e){return v.b({start:e.start||0}).then(function(n){return t.commit(l.b,{type:e.type,subjects:n.subjects,total:n.total}),n})}),r()(a,l.c,function(t,e){t.commit(l.c,e)}),a);e.a={state:{movies:(i={},r()(i,v.c.inTheaters,{total:0,subjects:[],describe:""}),r()(i,v.c.comingSoon,{total:0,subjects:[],describe:""}),r()(i,v.c.top250,{total:0,subjects:[],describe:""}),i)},mutations:p,actions:f}},138:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app"}},139:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(213),a=n.n(s);e.default={name:"home",components:{NavMenu:a.a},data:function(){return{}},methods:{}}},140:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"navMenu",data:function(){return{}},methods:{handleOpen:function(t,e){},handleClose:function(t,e){}}}},141:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(32);e.default={name:"movieDetail",data:function(){return{movie:{rating:{},images:{},countries:[],genres:[],casts:[],directors:[],aka:[]}}},watch:{$route:function(t){this.getSubject(t.params.id)}},created:function(){this.getSubject(this.$route.params.id)},methods:{getSubject:function(t){var e=this;this.$Progress.start(),n.i(s.d)(t).then(function(t){e.$Progress.finish(),e.movie=t},function(t){e.$Progress.fail()})}}}},142:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(33),a=n.n(s),i=n(89),o=n(62),r=n(211),c=n.n(r);e.default={name:"movieList",data:function(){return{}},computed:a()({},n.i(i.b)({subjects:function(t){return t.movie.movies[this.$route.meta.type].subjects}})),watch:{$route:function(t){this.clearMovies(),this.fetchData()}},mounted:function(){this.fetchData()},methods:{fetchData:function(t){var e=this,n="top250"===this.$route.meta.type?o.b:o.a;this.$store.dispatch(n,{type:this.$route.meta.type,start:t}).then(function(t){t.subjects.length?e.$refs.infiniteLoading.$emit("$InfiniteLoading:loaded"):e.$refs.infiniteLoading.$emit("$InfiniteLoading:complete")})},onInfinite:function(){this.subjects.length&&this.fetchData(this.subjects.length)},clearMovies:function(){this.$store.dispatch(o.c,{type:this.$route.meta.type})}},components:{InfiniteLoading:c.a}}},205:function(t,e){},206:function(t,e){},207:function(t,e){},208:function(t,e){},209:function(t,e){},212:function(t,e,n){n(207);var s=n(22)(n(139),n(218),"data-v-3e892830",null);t.exports=s.exports},213:function(t,e,n){n(208);var s=n(22)(n(140),n(219),"data-v-45781be1",null);t.exports=s.exports},214:function(t,e,n){n(206);var s=n(22)(n(141),n(217),"data-v-2571f941",null);t.exports=s.exports},215:function(t,e,n){n(205);var s=n(22)(n(142),n(216),"data-v-237d790e",null);t.exports=s.exports},216:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",[t._l(t.subjects,function(e,s){return n("el-col",{key:e.id,attrs:{span:8,offset:3}},[n("el-card",{attrs:{"body-style":{padding:"0px"}}},[n("img",{staticClass:"image",attrs:{src:e.images.large,alt:"默认"}}),t._v(" "),n("div",{staticStyle:{padding:"14px"}},[n("span",[t._v(t._s(e.title))]),t._v(" "),n("div",{staticClass:"bottom clearfix"},[n("el-rate",{directives:[{name:"model",rawName:"v-model",value:e.rating.average,expression:"subject.rating.average"}],attrs:{max:e.rating.max,disabled:"","show-text":"","text-color":"#ff9900","text-template":"{value}"},domProps:{value:e.rating.average},on:{input:function(t){e.rating.average=t}}}),t._v(" "),n("el-button",{staticClass:"button",attrs:{type:"text"}},[n("router-link",{attrs:{to:{path:"/movie/subject/"+e.id},tag:"span"}},[t._v("查看详情")])],1)],1)])])],1)}),t._v(" "),n("infinite-loading",{ref:"infiniteLoading",attrs:{"on-infinite":t.onInfinite}},[n("span",{slot:"no-more"},[t._v("\n    There is no more Movies :(\n  ")])])],2)},staticRenderFns:[]}},217:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"info"},[n("p",{staticClass:"info-content"},[n("span",{staticClass:"info-title"},[t._v("原名")]),n("span",{staticClass:"info-text"},[t._v(t._s(t.movie.original_title))])]),t._v(" "),n("p",{staticClass:"info-content"},[n("span",{staticClass:"info-title"},[t._v("类型")]),n("span",{staticClass:"info-text"},[t._v(t._s(t._f("arr2string")(t.movie.genres)))])]),t._v(" "),n("p",{staticClass:"info-content"},[n("span",{staticClass:"info-title"},[t._v("年代")]),n("span",{staticClass:"info-text"},[t._v(t._s(t.movie.year))])]),t._v(" "),n("p",{staticClass:"info-content"},[n("span",{staticClass:"info-title"},[t._v("地区")]),n("span",{staticClass:"info-text"},[t._v(t._s(t._f("arr2string")(t.movie.countries)))])]),t._v(" "),n("p",{staticClass:"info-content"},[n("span",{staticClass:"info-title"},[t._v("又名")]),n("span",{staticClass:"info-text"},[t._v(t._s(t._f("arr2string")(t.movie.aka)))])]),t._v(" "),n("p",{staticClass:"info-content"},[n("span",{staticClass:"info-title"},[t._v("想看人数")]),n("span",{staticClass:"info-text"},[t._v(t._s(t.movie.wish_count))])]),t._v(" "),n("p",{staticClass:"info-content"},[n("span",{staticClass:"info-title"},[t._v("看过人数")]),n("span",{staticClass:"info-text"},[t._v(t._s(t.movie.collect_count))])]),t._v(" "),n("p",{staticClass:"info-content"},[n("span",{staticClass:"info-title"},[t._v("评分人数")]),n("span",{staticClass:"info-text"},[t._v(t._s(t.movie.ratings_count))])]),t._v(" "),n("p",{staticClass:"info-content"},[n("span",{staticClass:"info-title"},[t._v("短评数量")]),n("span",{staticClass:"info-text"},[t._v(t._s(t.movie.comments_count))])]),t._v(" "),n("p",{staticClass:"info-content"},[n("span",{staticClass:"info-title"},[t._v("影评数量")]),n("span",{staticClass:"info-text"},[t._v(t._s(t.movie.reviews_count))])])]),t._v(" "),n("div",{staticClass:"summary"},[t._v(t._s(t.movie.summary))]),t._v(" "),n("div",{staticClass:"author"},[n("p",{staticClass:"author-type"},[t._v("导演")]),t._v(" "),n("el-row",t._l(t.movie.directors,function(e){return n("el-col",{key:e.id,attrs:{span:3,offset:2}},[n("el-card",{attrs:{"body-style":{padding:"0px"}}},[n("img",{staticClass:"image",attrs:{src:e.avatars&&e.avatars.medium||""}}),t._v(" "),n("div",{staticStyle:{padding:"14px"}},[n("span",[t._v(t._s(e.name))])])])],1)}))],1),t._v(" "),n("div",{staticClass:"author"},[n("p",{staticClass:"author-type"},[t._v("主演")]),t._v(" "),n("el-row",t._l(t.movie.casts,function(e){return n("el-col",{key:e.id,attrs:{span:3,offset:2}},[n("el-card",{attrs:{"body-style":{padding:"0px"}}},[n("img",{staticClass:"image",attrs:{src:e.avatars&&e.avatars.medium||""}}),t._v(" "),n("div",{staticStyle:{padding:"14px"}},[n("span",[t._v(t._s(e.name))])])])],1)}))],1)])},staticRenderFns:[]}},218:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{staticClass:"container"},[n("el-col",{staticClass:"main",attrs:{span:24}},[n("aside",[n("nav-menu")],1),t._v(" "),n("section",{staticClass:"content-container"},[n("div",{staticClass:"grid-content bg-purple-light"},[n("el-col",{staticClass:"breadcrumb-container",attrs:{span:24}},[n("strong",{staticClass:"title"},[t._v(t._s(t.$route.name))]),t._v(" "),n("el-breadcrumb",{staticClass:"breadcrumb-inner",attrs:{separator:"/"}},t._l(t.$route.matched,function(e,s){return n("el-breadcrumb-item",{key:s},[t._v("\n              "+t._s(e.name)+"\n            ")])}))],1),t._v(" "),n("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[n("transition",[n("router-view")],1)],1)],1)])])],1)},staticRenderFns:[]}},219:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-menu",{attrs:{"default-active":t.$route.path,"unique-opened":"",router:""},on:{open:t.handleOpen,close:t.handleClose}},[t._l(t.$router.options.routes,function(e,s){return e.hidden?t._e():[n("div",{key:s},[e.leaf?t._e():n("el-submenu",{attrs:{index:s+""}},[n("template",{slot:"title"},[t._v(t._s(e.name))]),t._v(" "),t._l(e.children,function(e,s){return e.hidden?t._e():n("el-menu-item",{key:s,attrs:{index:e.path}},[t._v(t._s(e.name)+"\n        ")])})],2),t._v(" "),e.leaf&&e.children.length>0?n("el-menu-item",{attrs:{index:e.children[0].path}},[n("i",{class:e.iconCls}),t._v(t._s(e.children[0].name)+"\n      ")]):t._e()],1)]})],2)},staticRenderFns:[]}},220:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("vue-progress-bar"),t._v(" "),n("router-view")],1)},staticRenderFns:[]}},224:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(4),a=n.n(s),i=n(93),o=n.n(i),r=n(91),c=n(90),u=n(55),l=n.n(u),v=n(94),p=n.n(v),f=n(92);n.n(f);a.a.use(l.a),a.a.use(p.a),a.a.filter("arr2string",function(t){return t.join(" / ")}),new a.a({el:"#app",router:c.a,store:r.a,template:"<App/>",components:{App:o.a}})},32:function(t,e,n){"use strict";function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=e.city,a=void 0===s?"北京":s,i=e.start,r=void 0===i?0:i;return n.i(o.a)("movie/"+t,{city:a,start:r})}function a(t){return n.i(o.a)("movie/subject/"+t)}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.start,s=void 0===e?0:e;return n.i(o.a)("movie/top250",{start:s})}var o=n(136);n.d(e,"c",function(){return r}),e.a=s,e.d=a,e.b=i;var r={inTheaters:"in_theaters",comingSoon:"coming_soon",top250:"top250"}},62:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return i});var s="FETCH_MOVIES",a="FETCH_MOVIES_TOP250",i="CLEAR_MOVIES"},90:function(t,e,n){"use strict";var s=n(4),a=n.n(s),i=n(221),o=n.n(i),r=n(212),c=n.n(r),u=n(215),l=n.n(u),v=n(214),p=n.n(v),f=n(32);a.a.use(o.a);var m=new o.a({mode:"history",routes:[{path:"/",component:c.a,redirect:{name:"热映"},name:"电影",children:[{path:"/movie/hot-list",name:"热映",component:l.a,meta:{type:f.c.inTheaters}},{path:"/movie/coming-list",name:"即将",component:l.a,meta:{type:f.c.comingSoon}},{path:"/movie/top250",name:"Top 250",component:l.a,meta:{type:f.c.top250}},{path:"/movie/subject/:id",name:"详情",hidden:!0,component:p.a}]},{path:"/",component:c.a,redirect:{name:"other1"},name:"other",children:[{path:"/other/other1",name:"other1"},{path:"/other/other2",name:"other2"}]},{path:"*",hidden:!0,redirect:"/movie/hot-list"}]});m.beforeEach(function(t,e,n){n()}),e.a=m},91:function(t,e,n){"use strict";var s=n(89),a=n(4),i=n.n(a),o=n(137);i.a.use(s.a),e.a=new s.a.Store({modules:{movie:o.a}})},92:function(t,e){},93:function(t,e,n){n(209);var s=n(22)(n(138),n(220),null,null);t.exports=s.exports}},[224]);
//# sourceMappingURL=app.76541fd065bab6606c9f.js.map